{"ast":null,"code":"import React from\"react\";import{translate}from\"../../config\";import{useMessages}from\"../../context/MessagesContext\";import{groupByQuadrants}from\"../../model\";import Badge from\"../Badge/Badge\";import EditButton from\"../EditButton/EditButton\";import FooterEnd from\"../FooterEnd/FooterEnd\";import ItemList from\"../ItemList/ItemList\";import ItemRevisions from\"../ItemRevisions/ItemRevisions\";import ItemTags from\"../ItemTags/ItemTags\";import Link from\"../Link/Link\";import SetTitle from\"../SetTitle\";import\"./item-page.scss\";import{useAnimations}from\"./useAnimations\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const getItem=(pageName,items)=>{const[quadrantName,itemName]=pageName.split(\"/\");return items.filter(item=>item.quadrant===quadrantName&&item.name===itemName)[0];};const getItemsInRing=(pageName,items)=>{const item=getItem(pageName,items);return groupByQuadrants(items)[item.quadrant][item.ring];};const PageItem=_ref=>{let{pageName,items,config,leaving,onLeave}=_ref;const{pageItem}=useMessages();const quadrantOverview=(pageItem===null||pageItem===void 0?void 0:pageItem.quadrantOverview)||\"Quadrant Overview\";const itemsInRing=getItemsInRing(pageName,items);const{getAnimationState,getAnimationStates}=useAnimations({itemsInRing,onLeave,leaving});const item=getItem(pageName,items);const editButton=config.editLink?/*#__PURE__*/_jsx(EditButton,{baseUrl:config.editLink.radarLink,item:item,title:config.editLink.title}):null;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SetTitle,{title:item.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-page__nav\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"item-page__nav__inner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-page__header\",style:getAnimationState(\"navHeader\"),children:/*#__PURE__*/_jsx(\"h3\",{className:\"headline\",children:translate(config,item.quadrant)})}),/*#__PURE__*/_jsx(ItemList,{items:itemsInRing,activeItem:item,headerStyle:getAnimationState(\"navHeader\"),itemStyle:getAnimationStates(\"items\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"split\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"split__left\",children:/*#__PURE__*/_jsx(Badge,{big:true,type:item.ring,config:config,children:item.ring})}),/*#__PURE__*/_jsx(\"div\",{className:\"split__right\",children:/*#__PURE__*/_jsxs(Link,{className:\"icon-link\",pageName:item.quadrant,children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon icon--pie icon-link__icon\"}),quadrantOverview]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"item-page__footer\",style:getAnimationState(\"footer\"),children:/*#__PURE__*/_jsx(FooterEnd,{modifier:\"in-sidebar\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"item-page__content\",style:getAnimationState(\"background\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"item-page__content__inner\",style:getAnimationState(\"text\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-page__header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"split\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"split__left hero-headline__wrapper\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"hero-headline hero-headline--inverse\",children:item.title}),editButton]}),/*#__PURE__*/_jsx(\"div\",{className:\"split__right\",children:/*#__PURE__*/_jsx(Badge,{big:true,type:item.ring,config:config,children:item.ring})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"markdown\",dangerouslySetInnerHTML:{__html:item.body}}),/*#__PURE__*/_jsx(ItemTags,{tags:item.tags}),item.revisions.length>1&&/*#__PURE__*/_jsx(ItemRevisions,{revisions:item.revisions.slice(1),dateFormat:config.dateFormat,config:config})]})})]})]});};export default PageItem;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}